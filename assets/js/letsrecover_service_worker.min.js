"use strict";var payload,notificationClicked=!1,formData=new FormData,site_url=self.origin;formData.append("action","wplrp_notification_log"),self.addEventListener("install",t=>{self.skipWaiting()}),self.addEventListener("activate",t=>{console.log("LetsRecover service worker is activated! v1.0")}),self.addEventListener("push",t=>{const i=t.data.json(),a=i.t;formData.delete("id"),formData.append("id",i.id);const e={body:i.m,icon:void 0!==i.i?i.i:"",badge:void 0!==i.b?i.b:"",image:void 0!==i.img?i.img:"",data:{url:i.u},renotify:!0,tag:"letsrecover",actions:void 0!==i.a?i.a:[],requireInteraction:i.ah};t.waitUntil(self.registration.showNotification(a,e).then(function(){formData.delete("wplrp_log"),formData.append("wplrp_log","delivered"),fetch(site_url+"/wp-admin/admin-ajax.php",{method:"POST",body:formData})}))}),self.addEventListener("notificationclick",function(t){notificationClicked=!0,t.notification.close(),formData.delete("wplrp_log"),formData.append("wplrp_log","clicked"),t.action?clients.openWindow(t.action):t.waitUntil(clients.openWindow(t.notification.data.url).then(function(){})),fetch(site_url+"/wp-admin/admin-ajax.php",{method:"POST",body:formData})}),self.addEventListener("notificationclose",function(t){0==notificationClicked&&(formData.delete("wplrp_log"),formData.append("wplrp_log","closed"),fetch(site_url+"/wp-admin/admin-ajax.php",{method:"POST",body:formData}))});